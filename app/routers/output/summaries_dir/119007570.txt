in quantum computation with continous - variable systems , quantum advantage can only be achieved if some non - gaussian resource is available . yet , non - gaussian unitary evolutions and measurements suited for computation are challenging to realize in the lab . we propose and analyze two methods to apply a polynomial approximation of any unitary operator diagonal in the amplitude quadrature representation , including non - gaussian operators , to an unknown input state . our protocols use as a primary non - gaussian resource a single - photon counter . we use the fidelity of the transformation with the target one on fock and coherent states to assess the quality of the approximate gate .