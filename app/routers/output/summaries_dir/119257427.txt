we study the measurement device independent quantum key distribution ( mdiqkd ) in practice with limited resource , when there are only 3 different states in implementing the decoy - state method and when there are basis dependent coding errors . we present general formulas for the decoy - state method for two - pulse sources with 3 different states , which can be applied to the recently proposed mdiqkd with imperfect single - photon source such as the coherent states or the heralded states from the parametric down conversion . we point out that the existing result for secure qkd with source coding errors does not always hold . we find that very accurate source coding is not necessary . in particular , we loosen the precision of existing result by several magnitude orders for secure qkd .