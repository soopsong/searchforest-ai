we propose a method of trapping atoms in arrays near to the surface of a composite nanophotonic device with optimal coupling to a single cavity mode . the device , comprised of a nanofiber mounted on a grating , allows the formation of periodic optical trapping potentials near to the nanofiber surface along with a high cooperativity nanofiber cavity . we model the device analytically and find good agreement with numerical simulations . we numerically demonstrate that for an experimentally realistic device , an array of traps can be formed whose centers coincide with the antinodes of a single cavity mode , guaranteeing optimal coupling to the cavity . additionally , we simulate a trap suitable for a single atom within 100 nm of the fiber surface , potentially allowing larger coupling to the nanofiber than found using typical guided mode trapping techniques .