we propose a scheme to realize quantum controlled phase flip ( cpf ) between two rare earth ions embedded in respective microsphere cavity via interacting with a single - photon pulse in sequence . the numerical simulations illuminate that the cpf gate between ions is robust and scalable with extremely high fidelity and low error rate . our scheme is more applicable than other schemes presented before based on current laboratory cavity - qed technology , and it is possible to be used as an applied unit gate in future quantum computation and quantum communication .