we discuss observational consequences of f(r ) dark energy scenarios that satisfy local gravity constraints ( lgc ) as well as conditions of the cosmological viability . the model we study is given by m(r)=c(-r-1)^p ( c>0 , p>1 ) with m = rf_{,rr}/f_{,r } and r=-rf_{,r}/f , which cover viable f(r ) models proposed so far in a high - curvature region designed to be compatible with lgc . the equation of state of dark energy exhibits a divergence at a redshift z_c that can be as close as a few while satisfying sound horizon constraints of cosmic microwave background ( cmb ) . we study the evolution of matter density perturbations in details and place constraints on model parameters from the difference of spectral indices of power spectra between cmb and galaxy clustering . the models with p>5 can be consistent with those observational constraints as well as lgc . we also discuss the evolution of perturbations in the ricci scalar r and show that an oscillating mode ( scalaron ) can easily dominate over a matter - induced mode as we go back to the past . this violates the stability of cosmological solutions , thus posing a problem about how the over - production of scalarons should be avoided in the early universe .