we present a method for preparing arbitrary pure states of spatial qudits , namely , d - dimensional ( d>2 ) quantum systems carrying information in the transverse momentum and position of single photons . for this purpose , a set of d slits with complex transmission are displayed on a spatial light modulator ( slm ) . in a recent work we have shown a method that requires a single phase - only slm to control independently the complex coefficients which define the quantum state of dimension d. the amplitude information was codified by introducing phase gratings inside each slit and the phase value of the complex transmission was added to the phase gratings . after a spatial filtering process we obtained in the image plane the desired qudit state . although this method has proven to be a good alternative to compact the previously reported architectures , it presents some features that could be improved . in this paper we present an alternative scheme to codify the required phase values that minimizes the effects of temporal phase fluctuations associated to the slm where the codification is carried on . in this scheme the amplitudes are set by appropriate phase gratings addressed at the slm while the relative phases are obtained by a lateral displacement of these phase gratings . we show that this method improves the quality of the prepared state and provides very high fidelities of preparation for any state . an additional advantage of this scheme is that a complete 2\pi modulation is obtained by shifting the grating by one period , and hence the encoding is not limited by the phase modulation range achieved by the slm . numerical simulations , that take into account the phase fluctuations , show high fidelities for thousands of qubit states covering the whole bloch sphere surface . similar analysis are performed for qudits with d = 3 and d = 7 .