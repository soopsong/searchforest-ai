it is desirable to implement an efficient quantum information process demanding fewer quantum resources . we designed two compact quantum circuits for determinately implementing four - qubit toffoli and fredkin gates on single - photon systems in both the polarization and spatial degrees of freedom ( dofs ) via diamond nitrogen - vacancy ( nv ) centers in resonators . the gates are heralded by the electron spins associated with the diamond nv centers . in contrast to the ones with one dof , our implementations reduce the quantum resource and are robust against the decoherence . evaluations of fidelities and efficiencies of our gates show that our schemes may be implemented with current technology .