around 2002 , leonid gurvits gave a striking randomized algorithm to approximate the permanent of an n*n matrix a. the algorithm runs in o(n^2 / eps^2 ) time , and approximates per(a ) to within eps*||a||^n additive error . a major advantage of gurvits 's algorithm is that it works for arbitrary matrices , not just for nonnegative matrices . this makes it highly relevant to quantum optics , where the permanents of bounded - norm complex matrices play a central role . indeed , the existence of gurvits 's algorithm is why , in their recent work on the hardness of quantum optics , aaronson and arkhipov ( aa ) had to talk about sampling problems rather than estimation problems . in this paper , we improve gurvits 's algorithm in two ways . first , using an idea from quantum optics , we generalize the algorithm so that it yields a better approximation when the matrix a has either repeated rows or repeated columns . translating back to quantum optics , this lets us classically estimate the probability of any outcome of an aa - type experiment --- even an outcome involving multiple photons"bunched"in the same mode --- at least as well as that probability can be estimated by the experiment itself . ( this does not , of course , let us solve the aa sampling problem . ) it also yields a general upper bound on the probabilities of"bunched"outcomes , which resolves a conjecture of gurvits and might be of independent physical interest . second , we use eps - biased sets to derandomize gurvits 's algorithm , in the special case where the matrix a is nonnegative . more interestingly , we generalize the notion of eps - biased sets to the complex numbers , construct"complex eps - biased sets,"then use those sets to derandomize even our generalization of gurvits 's algorithm to the multirow / multicolumn case ( again for nonnegative a ) . whether gurvits 's algorithm can be derandomized for general a remains an outstanding problem .