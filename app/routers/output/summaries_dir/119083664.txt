probabilities of photon counts at the output of a multiport optical device are generalised for optical sources of arbitrary quantum states in partially distinguishable optical modes . for the single - mode photon sources , the generating function for the probabilities is a linear combination of the matrix permanents of positive semi - definite hermitian matrices , where each hermitian matrix is a hadamard product of a submatrix of the multiport matrix and a hermitian matrix describing partial distinguishability . for the multi - mode sources the generating function is given by an integral of the husimi functions of the sources . when each photon source outputs exactly a fock state , the obtained expression reduces to the probability formula derived for partially distinguishable photons , \textit{physical review a \textbf{91 } , 013844 ( 2015 ) } . the derived probability formula can be useful in analysing experiments with partially distinguishable sources and error bounds of experimental boson sampling devices .