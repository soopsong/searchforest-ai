we develop a model for practical , entanglement - based long - distance quantum key distribution employing entanglement swapping as a key building block . relying only on existing off - the - shelf technology , we show how to optimize resources so as to maximize secret key distribution rates . the tools comprise lossy transmission links , such as telecom optical fibers or free space , parametric down - conversion sources of entangled photon pairs , and threshold detectors that are inefficient and have dark counts . our analysis provides the optimal trade - off between detector efficiency and dark counts , which are usually competing , as well as the optimal source brightness that maximizes the secret key rate for specified distances ( i.e. loss ) between sender and receiver .