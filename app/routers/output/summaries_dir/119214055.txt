we propose a feasible and efficient scheme to generate $ n$-atom $ w$-class states in spatially separated cavities without using any classical driving pulses . we adopt the model in which the couplings between different atoms are mediated only by virtual excitations of the cavity and fiber fields , so the scheme is insensitive to the cavity decay and fiber photon leakage . we carry out both theoretical investigation in a decoherence - free subspace and numerical calculation accounting for decoherence due to the atomic spontaneous emission as well as the decay of cavity and fiber modes . the theoretical and numerical results agree in the large atom - cavity detuning regime . our scheme proves to be useful in scalable distributed quantum networks .