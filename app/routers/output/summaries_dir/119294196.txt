we present a proposal for entanglement purification of the continuous - variable quantum state of two propagating optical fields . the scheme is based on letting each field interact with a local node , an atomic ensemble , whose internal collective excitation plays the role of an ancillary continuous variable resource . entanglement purification is achieved by a dichotomic measurement , representing the required non - gaussian element , and which consists in detecting the presence or absence of collective excitations in the atomic ensemble . this scheme can be extended to networks , where the nodes are single trapped atoms , and constitutes an important building block for the implementation of a continuous - variable quantum repeater .