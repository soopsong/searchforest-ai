we develop a general hamiltonian treatement of spontaneous four - wave mixing in a microring resonator side - coupled to a channel waveguide . the effect of scattering losses in the ring is included , as well as parasitic nonlinear effects including self- and cross - phase modulation . a procedure for computing the output of such a system for arbitrary parameters and pump states is presented . for the limit of weak pumping an expression for the joint spectral intensity of generated photon pairs , as well as the singles - to - coincidences ratio , is derived .