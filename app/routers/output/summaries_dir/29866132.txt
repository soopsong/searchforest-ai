single - photon states , which carry quantum information and coherently interact with quantum systems , are vital to the realization of all - optical engineered quantum networks . in this paper we derive the analytical form of the output field state for a large class of quantum finite - level systems driven by single - photon input field states using a transfer function approach . single - photon pulse shaping via coherent feedback is also studied .