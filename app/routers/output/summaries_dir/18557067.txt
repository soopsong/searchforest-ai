starting with the basic control system model often employed in nmr pulse design , we derive more realistic control system models taking into account effects such as off - resonant excitation for systems with fixed inter - qubit coupling controlled by globally applied electromagnetic fields , as well as for systems controlled by a combination of a global fields and local control electrodes . for both models optimal control is used to find controls that implement a set of two- and three - qubit gates with fidelity greater than 99.99 % . while in some cases the optimal pulses obtained appear to be surprisingly simple and experimentally realistic , the results also show that the"optimal"pulses obtained in other cases are experimentally infeasible , and more sophisticated parametrization of the control fields and numerical algorithms are needed .