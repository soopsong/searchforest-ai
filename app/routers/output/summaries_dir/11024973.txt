we determine the optimal rates of universal quantum codes for entanglement transmission and generation under channel uncertainty . in the simplest scenario the sender and receiver are provided merely with the information that the channel they use belongs to a given set of channels , so that they are forced to use quantum codes that are reliable for the whole set of channels . this is precisely the quantum analog of the compound channel coding problem . we determine the entanglement transmission and entanglement - generating capacities of compound quantum channels and show that they are equal . moreover , we investigate two variants of that basic scenario , namely the cases of informed decoder or informed encoder , and derive corresponding capacity results .