using a set of general methods developed by krotov [ a. i. konnov and v. a. krotov , automation and remote control , { \bf 60 } , 1427 ( 1999 ) ] , we extend the capabilities of optimal control theory to the nonlinear schr\"odinger equation ( nlse ) . the paper begins with a general review of the krotov approach to optimization . although the linearized version of the method is sufficient for the linear schr\"odinger equation , the full flexibility of the general method is required for treatment of the nonlinear schr\"odinger equation . formal equations for the optimization of the nlse , as well as a concrete algorithm are presented . as an illustration , we consider a bose - einstein condensate initially at rest in a harmonic trap . a phase develops across the bec when an optical lattice potential is turned on . the goal is to counter this effect and keep the phase flat by adjusting the trap strength . the problem is formulated in the language of optimal control theory ( oct ) and solved using the above methodology . to our knowledge , this is the first rigorous application of oct to the nonlinear schr\"odinger equation , a capability that is bound to have numerous other applications .