heralded near - deterministic multi - qubit controlled phase gates with integrated error detection have recently been proposed by borregaard et al . [ phys . rev . lett . 114 , 110502 ( 2015 ) ] . this protocol is based on a single four - level atom ( a heralding quartit ) and $ n$ three - level atoms ( operational qutrits ) coupled to a single - resonator mode acting as a cavity bus . here we generalize this method for two distant resonators without the cavity bus between the heralding and operational atoms . specifically , we analyze the two - qubit controlled - z gate and its multi - qubit - controlled generalization ( i.e. , a toffoli - like gate ) acting on the two - lowest levels of $ n$ qutrits inside one resonator , with their successful actions being heralded by an auxiliary microwave - driven quartit inside the other resonator . moreover , we propose a circuit - quantum - electrodynamics realization of the protocol with flux and phase qudits in linearly - coupled transmission - line resonators with dissipation . these methods offer a quadratic fidelity improvement compared to cavity - assisted deterministic gates .