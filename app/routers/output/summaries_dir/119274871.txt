we propose and analyse a scheme for single - rail - encoded arbitrary multi - qubit quantum - state generation to provide a versatile tool for quantum optics and quantum information applications . our scheme can be realized , for small numbers of qubits , with current technologies using single photon inputs , passive linear optics , and heralding measurements . the particular examples of two- and three - qubit cluster states are studied in detail . we show that such states can be prepared with a high probability of success . our analysis quantifies the effects of experimentally relevant imperfections and inefficiencies . the general case of arbitrary n - qubit preparation is discussed and some interesting connections to the boson sampling problem are given .