classical and quantum theories of time - symmetric smoothing , which can be used to optimally estimate waveforms in classical and quantum systems , are derived using a discrete - time approach , and the similarities between the two theories are emphasized . application of the quantum theory to homodyne phase - locked loop design for phase estimation with narrowband squeezed optical beams is studied . the relation between the proposed theory and aharonov et al . 's weak value theory is also explored .